// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Book {
  code          String         @id @default(uuid())
  title         String
  author        String
  year          DateTime
  belongs_to    String
  publisher     Publisher      @relation(fields: [publisher_id], references: [id_publisher])
  publisher_id  String   
  status        BookStatus
}

enum BookStatus {
  AVAILABLE
  RESERVED
  BORROWED
}

model Publisher {
  id_publisher     String      @id @default(uuid())
  name_publisher   String
  city_publisher   String
  state_publisher  String
  books    Book[]
}

model User {
  cpf                   String      @id
  email                 String      @unique
  name                  String
  code                  String      @unique
  phone                 String
  city                  String 
  state                 String
  institution           String
  role                  Role        @default(STUDENT)
}

enum Role {
  STUDENT
  EMPLOYEE
  ADMIN
}